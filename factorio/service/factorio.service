[Unit]
Description=Factorio Dedicated Server
Requires=factorio.socket

[Service]
User=cristian
WorkingDirectory=/opt/factorio
ExecStart=/opt/factorio/manage.sh --start
ExecStop=/opt/factorio/manage.sh --stop
NonBlocking=true

Restart=on-failure
RestartSec=5
StartLimitBurst=1

Sockets=factorio.socket
StandardInput=socket
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
